accumulative_homicide <- function(diskframe){
diskframe %>%
group_by(yy_hecho) %>%
summarise(n = n()) %>%
collect()
}
accumulative_list <- lapply(homicide_list$homicides, accumulative_homicide)
total_counts_per_year <- reduce(accumulative_list, full_join, by="yy_hecho") %>%
group_by(yy_hecho) %>%
summarise(total_count = sum(n,na.rm = TRUE))
accumulative_homicide <- function(diskframe){
diskframe %>%
group_by(yy_hecho) %>%
summarise(n = n()) %>%
collect()
}
accumulative_list <- lapply(homicide_list$homicides, accumulative_homicide)
View(accumulative_list)
View(df)
View(df)
View(homicide_list)
View(homicide_list)
accumulative_homicide <- function(diskframe){
diskframe %>%
group_by(yy_hecho) %>%
summarise(n = n()) %>%
collect()
}
accumulative_list <- lapply(homicide_list$homicides, accumulative_homicide)
accumulative_list <- lapply(homicide_list$homicides, accumulative_homicide)
accumulative_list <- lapply(homicide_list$homicides, accumulative_homicide)
accumulative_homicide <- function(diskframe){
diskframe %>%
group_by(yy_hecho) %>%
summarise(n = n())
}
accumulative_list <- lapply(homicide_list$homicides, accumulative_homicide)
accumulative_list <- lapply(homicide_list$homicides, accumulative_homicide)
accumulative_list <- lapply( homicide_list[[]]$homicides, accumulative_homicide)
accumulative_list <- lapply( homicide_list$homicides, accumulative_homicide)
accumulative_list <- lapply( homicide_list$homicides, accumulative_homicide)
accumulative_list <- lapply(homicide_list$value, accumulative_homicide)
accumulative_list <- lapply(homicide_list$value, accumulative_homicide)
accumulative_list <- lapply(homicide_list$value, accumulative_homicide)
for(i in 1:100){
}
accumulative_list <- list()
accumulative_list <- list()
for(i in 1:100){
homicide_variable <- homicide_list[[i]]$homicides
datf_variable <- homicide_variable%>%
group_by(yy_hecho) %>%
summarise(n=n()) %>%
collect()
accumulative_list <- append(accumulative_list,datf_variable)
}
accumulative_list <- list()
for(i in 1:100){
homicide_variable <- homicide_list[[i]]$homicides
datf_variable <- homicide_variable%>%
group_by(yy_hecho) %>%
summarise(n=n()) %>%
collect()
accumulative_list <- append(accumulative_list,datf_variable)
}
homicide1 <- homicide_list[[1]]$homicides
homicide1df <- homicide1 %>% collect
homicide1 <- homicide_list[[1]]$homicides
homicide1df <- homicide1 %>% collect
homicide_route <- "../Homicidio.csv/"
library(readr)
library(ggplot2)
library(disk.frame)
library(dplyr)
library(purrr)
homicide_route <- "../Homicidio.csv/"
#Analizar los nucleos para poder usar disk.frame
setup_disk.frame(workers = parallel::detectCores(logical=FALSE))
#Lista de archivos
files <- list.files(homicide_route, pattern = "*.csv", full.names = TRUE)
homicide_list <- lapply(files , function(file){
name <- basename(file)
#convertir cada archivo en disk.frame
homicides <- csv_to_disk.frame(file , outdir = file.path(tempdir(), name))
list(name = name, homicides = homicides)
})
#probando como funcionan los data frames
homicide1 <- homicide_list[[1]]$homicides
homicides_per_year <- homicide1%>%
group_by(yy_hecho) %>%
summarise(n=n()) %>%
collect()
View(homicides_per_year)
#graficar
ggplot(homicides_per_year, aes(x = yy_hecho, y = n)) +
geom_line(color = "blue") +
geom_point(color = "red") +
labs(title = "Tendencia de Homicidios por Año",
x = "Año",
y = "Número de Homicidios") +
theme_minimal() +
scale_y_continuous(limits = c(0, max(homicides_per_year$n) + 1000), breaks = seq(0, max(homicides_per_year$n) + 1000, by = 1000)) +
scale_x_continuous(breaks = seq(min(homicides_per_year$yy_hecho), max(homicides_per_year$yy_hecho), by = 1))
accumulative_list <- list()
for(i in 1:100){
homicide_variable <- homicide_list[[i]]$homicides
datf_variable <- homicide_variable%>%
group_by(yy_hecho) %>%
summarise(n=n()) %>%
collect()
accumulative_list <- append(accumulative_list,datf_variable)
}
View(accumulative_list)
accumulative_list <- list()
for(i in 1:100){
homicide_variable <- homicide_list[[i]]$homicides
datf_variable <- homicide_variable%>%
group_by(yy_hecho) %>%
summarise(n=n()) %>%
collect()
append(accumulative_list,datf_variable)
}
accumulative_list <- list()
for(i in 1:100){
homicide_variable <- homicide_list[[i]]$homicides
datf_variable <- homicide_variable%>%
group_by(yy_hecho) %>%
summarise(n=n()) %>%
collect()
append(accumulative_list,datf_variable)
}
#para hacer un conteo acumulativo
accumulative_list <- list()
for(i in 1:100){
homicide_variable <- homicide_list[[i]]$homicides
datf_variable <- homicide_variable%>%
group_by(yy_hecho) %>%
summarise(n=n()) %>%
collect()
accumulative_list <- append(accumulative_list,datf_variable)
}
homicides_per_year <- homicide1%>%
group_by(yy_hecho) %>%
summarise(n=n()) %>%
collect()
homicide1 <- homicide_list[[100]]$homicides
homicide1df <- homicide1 %>% collect
ggplot(homicides_per_year, aes(x = yy_hecho, y = n)) +
geom_line(color = "blue") +
geom_point(color = "red") +
labs(title = "Tendencia de Homicidios por Año",
x = "Año",
y = "Número de Homicidios") +
theme_minimal() +
scale_y_continuous(limits = c(0, max(homicides_per_year$n) + 1000), breaks = seq(0, max(homicides_per_year$n) + 1000, by = 1000)) +
scale_x_continuous(breaks = seq(min(homicides_per_year$yy_hecho), max(homicides_per_year$yy_hecho), by = 1))
library(readr)
library(ggplot2)
library(disk.frame)
library(dplyr)
library(purrr)
homicide1 <- homicide_list[[100]]$homicides
homicide1df <- homicide1 %>% collect
homicide1 <- homicide_list[[100]]$homicides
homicide1df <- homicide1 %>% collect
homicide1 <- homicide_list[[100]]$homicides
homicide1df <- homicide1 %>% collect
library(readr)
library(ggplot2)
library(disk.frame)
library(dplyr)
library(purrr)
homicide_route <- "../Homicidio.csv/"
#Analizar los nucleos para poder usar disk.frame
setup_disk.frame(workers = parallel::detectCores(logical=FALSE))
#Lista de archivos
files <- list.files(homicide_route, pattern = "*.csv", full.names = TRUE)
homicide_list <- lapply(files , function(file){
name <- basename(file)
#convertir cada archivo en disk.frame
homicides <- csv_to_disk.frame(file , outdir = file.path(tempdir(), name))
list(name = name, homicides = homicides)
})
library(readr)
library(ggplot2)
library(disk.frame)
library(dplyr)
library(purrr)
homicide_route <- "../Homicidio.csv/"
#Analizar los nucleos para poder usar disk.frame
setup_disk.frame(workers = parallel::detectCores(logical=FALSE))
#Lista de archivos
files <- list.files(homicide_route, pattern = "*.csv", full.names = TRUE)
homicide_list <- lapply(files , function(file){
name <- basename(file)
#convertir cada archivo en disk.frame
homicides <- csv_to_disk.frame(file , outdir = file.path(tempdir(), name))
list(name = name, homicides = homicides)
})
#probando como funcionan los data frames
homicide1 <- homicide_list[[100]]$homicides
homicide1df <- homicide1 %>% collect
View(homicide1df)
#aplicando las funciones de dplyr para un data frame
homicides_per_year <- homicide1%>%
group_by(yy_hecho) %>%
summarise(n=n()) %>%
collect()
View(homicides_per_year)
#para hacer un conteo acumulativo
accumulative_list <- list()
for(i in 1:100){
homicide_variable <- homicide_list[[i]]$homicides
datf_variable <- homicide_variable%>%
group_by(yy_hecho) %>%
summarise(n=n()) %>%
collect()
accumulative_list <- append(accumulative_list,list(datf_variable))
}
View(accumulative_list[[1]])
library(readr)
library(ggplot2)
library(disk.frame)
library(dplyr)
library(purrr)
library(readr)
library(ggplot2)
library(disk.frame)
library(dplyr)
library(purrr)
ggplot(homicides_per_year, aes(x = yy_hecho, y = n)) +
geom_line(color = "blue") +
geom_point(color = "red") +
labs(title = "Tendencia de Homicidios por Año",
x = "Año",
y = "Número de Homicidios") +
theme_minimal() +
scale_y_continuous(limits = c(0, max(homicides_per_year$n) + 1000), breaks = seq(0, max(homicides_per_year$n) + 1000, by = 1000)) +
scale_x_continuous(breaks = seq(min(homicides_per_year$yy_hecho), max(homicides_per_year$yy_hecho), by = 1))
library(readr)
library(ggplot2)
library(disk.frame)
library(dplyr)
library(purrr)
homicide_route <- "../Homicidio.csv/verdata-homicidio-R99.csv"
kidnapping_route <- "../Secuestro.csv/verdata-secuestro-R99.csv"
disappearances_route <- "../Desaparicion.csv/verdata-desaparicion-R99.csv"
recruitment_route <-"../Reclutamiento.csv/verdata-reclutamiento-R99.csv"
homicide1df <-read.csv(homicide_route)
library(readr)
library(ggplot2)
library(disk.frame)
library(dplyr)
library(purrr)
homicide_route <- "../Homicidio.csv/verdata-homicidio-R99.csv"
kidnapping_route <- "../Secuestro.csv/verdata-secuestro-R99.csv"
disappearances_route <- "../Desaparicion.csv/verdata-desaparicion-R99.csv"
recruitment_route <-"../Reclutamiento.csv/verdata-reclutamiento-R99.csv"
homicide1df <-read.csv(homicide_route)
library(readr)
library(ggplot2)
library(disk.frame)
library(dplyr)
library(purrr)
homicide_route <- "../Homicidio.csv/verdata-homicidio-R99.csv"
kidnapping_route <- "../Secuestro.csv/verdata-secuestro-R99.csv"
disappearances_route <- "../Desaparicion.csv/verdata-desaparicion-R99.csv"
recruitment_route <-"../Reclutamiento.csv/verdata-reclutamiento-R99.csv"
homicide1df <-read.csv(homicide_route)
kidnapping1df <-read.csv(kidnapping_route)
recruitment1df <-read.csv(recruitment_route)
disappearance1df <-read.csv(disappearances_route)
#exploracion de datos
print(any(is.na(homicide1df)))
print(all(apply(homicide1df,2,function(x) all(!is.nan(x)))))
print(all(apply(kidnapping1df,2,function(x) all(!is.nan(x)))))
print(any(is.na(kidnapping1df)))
print(any(is.na(recruitment1df)))
print(all(apply(recruitment1df,2,function(x) all(!is.nan(x)))))
print(all(apply(disappearance1df,2,function(x) all(!is.nan(x)))))
print(any(is.na(disappearance1df)))
homicide1df <- homicide1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
View(homicide1df)
library(readr)
library(ggplot2)
library(disk.frame)
library(dplyr)
library(purrr)
homicide1df <- homicide1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
disappearance1df <- disappearance1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
kidnapping1df <- kidnapping1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
recruitment1df <- recruitment1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
View(homicide1df)
homicide1f <-homicide1df[,-c(1:36)]
homicide1df <-homicide1df[,-c(1:36)]
rm(homicide1f)
View(homicide1df)
library(sf)
library(tmap)
library(readr)
library(ggplot2)
library(disk.frame)
library(dplyr)
library(purrr)
map <- st_read("MGN2022_MPIO_POLITICO/MGN_MPIO_POLITICO.shp")
map2 <- map[,1]
plot(map2)
View(disappearance1df)
View(map2)
View(map2)
View(map)
map <- st_read("MGN2022_MPIO_POLITICO/MGN_MPIO_POLITICO.shp")
map2 <- map[,2]
plot(map2)
View(map2)
View(homicide1df)
homicide1df$muni_code_hecho <- substr(homicide1df$muni_code_hecho, nchar(homicide1df$muni_code_hecho) - 2, nchar(homicide1df$muni_code_hecho))
library(readr)
library(ggplot2)
library(disk.frame)
library(dplyr)
library(purrr)
homicide_route <- "../Homicidio.csv/verdata-homicidio-R99.csv"
kidnapping_route <- "../Secuestro.csv/verdata-secuestro-R99.csv"
disappearances_route <- "../Desaparicion.csv/verdata-desaparicion-R99.csv"
recruitment_route <-"../Reclutamiento.csv/verdata-reclutamiento-R99.csv"
homicide1df <-read.csv(homicide_route)
kidnapping1df <-read.csv(kidnapping_route)
recruitment1df <-read.csv(recruitment_route)
disappearance1df <-read.csv(disappearances_route)
#exploracion de datos
print(any(is.na(homicide1df)))
print(all(apply(homicide1df,2,function(x) all(!is.nan(x)))))
print(all(apply(kidnapping1df,2,function(x) all(!is.nan(x)))))
print(any(is.na(kidnapping1df)))
print(any(is.na(recruitment1df)))
print(all(apply(recruitment1df,2,function(x) all(!is.nan(x)))))
print(all(apply(disappearance1df,2,function(x) all(!is.nan(x)))))
print(any(is.na(disappearance1df)))
View(homicide1df)
#volver caracter la columna de departamentos y municipios y concatenar un cero a la izquierda para poder luego usar map
#quitar columnas no deseadas
homicide1df <- homicide1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
homicide1df <-homicide1df[,-c(1:36)]
homicide1df$muni_code_hecho <- substr(homicide1df$muni_code_hecho, nchar(homicide1df$muni_code_hecho) - 2, nchar(homicide1df$muni_code_hecho))
View(homicide1df)
#disappearance
disappearance1df <- disappearance1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
disappearance1df <-disappearance1df[,-c(1:36)]
disappearance1df$muni_code_hecho <- substr(disappearance1df$muni_code_hecho, nchar(disappearance1df$muni_code_hecho) - 2, nchar(disappearance1df$muni_code_hecho))
#kidnapping
kidnapping1df <- kidnapping1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
kidnapping1df <kidnapping1df[,-c(1:36)]
library(readr)
library(ggplot2)
library(disk.frame)
library(dplyr)
library(purrr)
homicide_route <- "../Homicidio.csv/verdata-homicidio-R99.csv"
kidnapping_route <- "../Secuestro.csv/verdata-secuestro-R99.csv"
disappearances_route <- "../Desaparicion.csv/verdata-desaparicion-R99.csv"
recruitment_route <-"../Reclutamiento.csv/verdata-reclutamiento-R99.csv"
homicide1df <-read.csv(homicide_route)
kidnapping1df <-read.csv(kidnapping_route)
recruitment1df <-read.csv(recruitment_route)
disappearance1df <-read.csv(disappearances_route)
#exploracion de datos
print(any(is.na(homicide1df)))
print(all(apply(homicide1df,2,function(x) all(!is.nan(x)))))
print(all(apply(kidnapping1df,2,function(x) all(!is.nan(x)))))
print(any(is.na(kidnapping1df)))
print(any(is.na(recruitment1df)))
print(all(apply(recruitment1df,2,function(x) all(!is.nan(x)))))
print(all(apply(disappearance1df,2,function(x) all(!is.nan(x)))))
print(any(is.na(disappearance1df)))
#homicide
homicide1df <- homicide1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
homicide1df <-homicide1df[,-c(1:36)]
homicide1df$muni_code_hecho <- substr(homicide1df$muni_code_hecho, nchar(homicide1df$muni_code_hecho) - 2, nchar(homicide1df$muni_code_hecho))
#disappearance
disappearance1df <- disappearance1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
disappearance1df <-disappearance1df[,-c(1:36)]
disappearance1df$muni_code_hecho <- substr(disappearance1df$muni_code_hecho, nchar(disappearance1df$muni_code_hecho) - 2, nchar(disappearance1df$muni_code_hecho))
#kidnapping
kidnapping1df <- kidnapping1df %>% mu-tate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
library(readr)
library(ggplot2)
library(disk.frame)
library(dplyr)
library(purrr)
homicide_route <- "../Homicidio.csv/verdata-homicidio-R99.csv"
kidnapping_route <- "../Secuestro.csv/verdata-secuestro-R99.csv"
disappearances_route <- "../Desaparicion.csv/verdata-desaparicion-R99.csv"
recruitment_route <-"../Reclutamiento.csv/verdata-reclutamiento-R99.csv"
homicide1df <-read.csv(homicide_route)
kidnapping1df <-read.csv(kidnapping_route)
recruitment1df <-read.csv(recruitment_route)
disappearance1df <-read.csv(disappearances_route)
#exploracion de datos
print(any(is.na(homicide1df)))
print(all(apply(homicide1df,2,function(x) all(!is.nan(x)))))
print(all(apply(kidnapping1df,2,function(x) all(!is.nan(x)))))
print(any(is.na(kidnapping1df)))
print(any(is.na(recruitment1df)))
print(all(apply(recruitment1df,2,function(x) all(!is.nan(x)))))
print(all(apply(disappearance1df,2,function(x) all(!is.nan(x)))))
print(any(is.na(disappearance1df)))
#homicide
homicide1df <- homicide1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
homicide1df <-homicide1df[,-c(1:36)]
homicide1df$muni_code_hecho <- substr(homicide1df$muni_code_hecho, nchar(homicide1df$muni_code_hecho) - 2, nchar(homicide1df$muni_code_hecho))
#disappearance
disappearance1df <- disappearance1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
disappearance1df <-disappearance1df[,-c(1:36)]
disappearance1df$muni_code_hecho <- substr(disappearance1df$muni_code_hecho, nchar(disappearance1df$muni_code_hecho) - 2, nchar(disappearance1df$muni_code_hecho))
#kidnapping
kidnapping1df <- kidnapping1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
kidnapping1df <kidnapping1df[,-c(1:36)]
library(readr)
library(ggplot2)
library(disk.frame)
library(dplyr)
library(purrr)
homicide_route <- "../Homicidio.csv/verdata-homicidio-R99.csv"
kidnapping_route <- "../Secuestro.csv/verdata-secuestro-R99.csv"
disappearances_route <- "../Desaparicion.csv/verdata-desaparicion-R99.csv"
recruitment_route <-"../Reclutamiento.csv/verdata-reclutamiento-R99.csv"
homicide1df <-read.csv(homicide_route)
kidnapping1df <-read.csv(kidnapping_route)
recruitment1df <-read.csv(recruitment_route)
disappearance1df <-read.csv(disappearances_route)
#exploracion de datos
print(any(is.na(homicide1df)))
print(all(apply(homicide1df,2,function(x) all(!is.nan(x)))))
print(all(apply(kidnapping1df,2,function(x) all(!is.nan(x)))))
print(any(is.na(kidnapping1df)))
print(any(is.na(recruitment1df)))
print(all(apply(recruitment1df,2,function(x) all(!is.nan(x)))))
print(all(apply(disappearance1df,2,function(x) all(!is.nan(x)))))
print(any(is.na(disappearance1df)))
#homicide
homicide1df <- homicide1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
homicide1df <-homicide1df[,-c(1:36)]
homicide1df$muni_code_hecho <- substr(homicide1df$muni_code_hecho, nchar(homicide1df$muni_code_hecho) - 2, nchar(homicide1df$muni_code_hecho))
#disappearance
disappearance1df <- disappearance1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
disappearance1df <-disappearance1df[,-c(1:36)]
disappearance1df$muni_code_hecho <- substr(disappearance1df$muni_code_hecho, nchar(disappearance1df$muni_code_hecho) - 2, nchar(disappearance1df$muni_code_hecho))
#kidnapping
kidnapping1df <- kidnapping1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
kidnapping1df <-kidnapping1df[,-c(1:36)]
kidnapping1df$muni_code_hecho <- substr(kidnapping1df$muni_code_hecho, nchar(kidnapping1df$muni_code_hecho) - 2, nchar(kidnapping1df$muni_code_hecho))
#recruitment
recruitment1df <- recruitment1df %>% mutate(
dept_code_hecho = ifelse(dept_code_hecho < 10 , sprintf("%02d", dept_code_hecho) %>% as.character(), as.character(dept_code_hecho)),
muni_code_hecho = ifelse(muni_code_hecho < 10 , sprintf("%02d", muni_code_hecho) %>% as.character(), as.character(muni_code_hecho))
)
recruitment1df <-recruitment1df[,-c(1:36)]
recruitment1df$muni_code_hecho <- substr(recruitment1df$muni_code_hecho, nchar(recruitment1df$muni_code_hecho) - 2, nchar(recruitment1df$muni_code_hecho))
View(disappearance1df)
View(homicide1df)
